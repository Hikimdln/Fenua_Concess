<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Accueil - Fenua Concess</title>
<link rel="stylesheet" href="style.css">
<link rel="icon" type="image/png" href="assets/logo1.png">
<script src="auth.js"></script>
</head>

<body>

<div class="sidebar">
  <h2>Fenua Concess</h2>
  <a href="portail.html">Accueil</a>
  <a href="catalogue.html">Catalogue</a>
  <a href="factures.html">Factures</a>
  <a href="index.html" class="logout" id="logoutBtn">D√©connexion</a>
</div>

<header>Portail Interne</header>

<div class="main-content">
  <h2 id="welcomeMessage" style="margin-bottom: 20px; color:#333;"></h2>

  <div class="cards">
    <div class="card">
      <h3>Catalogue</h3>
      <p>Consultez le catalogue.</p>
      <a href="catalogue.html">Voir</a>
    </div>
    <div class="card">
      <h3>Factures</h3>
      <p>Cr√©er ou envoyer une facture.</p>
      <a href="factures.html">Acc√©der</a>
    </div>
  </div>
</div>

<script>
// R√©cup√®re l'utilisateur connect√©
const user = sessionStorage.getItem('fc_user');

// Si pas connect√© ‚Üí redirection vers login
if (!user) {
  window.location.href = "login.html";
} else {
  // Affiche le message de bienvenue
  document.getElementById('welcomeMessage').textContent = `üëã Bienvenue, ${user}`;
}

// Gestion du bouton de d√©connexion
document.getElementById('logoutBtn').addEventListener('click', () => {
  sessionStorage.removeItem('fc_user');
});

    // Bloquer clic droit
    document.addEventListener('contextmenu', function(e) {
      e.preventDefault();
    });

    // Bloquer touches pour inspecter / voir le code source
    document.addEventListener('keydown', function(e) {
      // F12
      if (e.key === "F12" || e.keyCode === 123) e.preventDefault();

      // Ctrl+Shift+I ou J (inspecter)
      if (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J' || e.keyCode === 73 || e.keyCode === 74)) e.preventDefault();

      // Ctrl+Shift+C (inspecteur de s√©lection)
      if (e.ctrlKey && e.shiftKey && (e.key === 'C' || e.keyCode === 67)) e.preventDefault();

      // Ctrl+U (voir le code source)
      if (e.ctrlKey && (e.key === 'U' || e.keyCode === 85)) e.preventDefault();
    });

    // Emp√™che le glisser-d√©poser
    document.addEventListener('dragstart', function(e) {
      e.preventDefault();
    });

    // Emp√™che la s√©lection de texte via souris
    document.addEventListener('selectstart', function(e) {
      e.preventDefault();
    });
</script>

</body>
</html>
